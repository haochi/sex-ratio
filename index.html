<!doctype html>
<html ng-app="app">
<head>
    <title>US County Level Sex Ratio By Age Group</title>
    <meta property="og:url" content="http://ihaochi.com/us-county-level-sex-ratio-by-age-group/" />
    <meta property="og:title" content="US County Level Sex Ratio By Age Group" />
    <meta property="og:description" content="There are counties like Bent, Colorado where men in their 20s outnumber women 672 to 100." />
    <meta property="og:image" content="http://ihaochi.com/us-county-level-sex-ratio-by-age-group/screenshot.png" />
    <meta property="fb:app_id" content="1781563628827046" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/angularjs-slider/6.0.0/rzslider.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" href="app.css">
</head>
<body>
<div class="app-container" ng-controller="AppController as appCtrl">
    <div class="section loading" ng-if="appCtrl.loading">
        <img src="http://i.imgur.com/UQ7Eh0b.gif" alt="Loading ..." />
        <h2>Loading ...</h2>
    </div>
    <div class="map-container">
        <div class="map-info-container">
            <div class="map section" class="section"></div>
            <div class="map-info section">
                <div class="map-info-chart"></div>
            </div>
        </div>

        <div class="section">
            <span class="legend-item" ng-repeat="label in ::appCtrl.legend">
                <span class="fa-stack">
                    <i class="fa fa-circle-thin fa-stack-2x"></i>
                    <i class="fa fa-circle fa-stack-1x" aria-hidden="true" ng-style="{ color: label.color, opacity: appCtrl.LEGEND_OPACITY }"></i>
                </span>
                <span ng-bind-html="label.display"></span>
            </span>
        </div>

        <ihaochi-mouse-tooltip ng-show="appCtrl.hoverCounty" class="mouse-tooltip">
            <div>{{ appCtrl.hoverCounty.get('County Name') }}, {{ appCtrl.hoverCounty.get('State Abbr') }}</div>
            <div>
                {{ appCtrl.hoverCounty.get('male') }} <i class="fa fa-male" aria-hidden="true"></i> :
                {{ appCtrl.hoverCounty.get('female') }} <i class="fa fa-female" aria-hidden="true"></i>
            </div>
            <div>
                (Ratio: {{ appCtrl.hoverCounty.get('male') / appCtrl.hoverCounty.get('female') * 100 | number:0 }} : 100)
            </div>
        </ihaochi-mouse-tooltip>
    </div>

    <div class="control-container">
        <div class="section">
            <h3>Age Range</h3>
            <rzslider
                rz-slider-model="appCtrl.minAge"
                rz-slider-high="appCtrl.maxAge"
                rz-slider-options="appCtrl.ageSliderOptions"></rzslider>
        </div>
        <div class="section">
            <h3>Highlight Counties with Sex Ratio Disparity Greater Than (For Given Age Range)</h3>
            <rzslider
                rz-slider-model="appCtrl.highlightRatio"
                rz-slider-options="appCtrl.ratioSliderOptions"></rzslider>
        </div>
    </div>
</div>

<div class="section">
    <div class="share-buttons">
        <div class="share-button">
            <iframe
                src="https://platform.twitter.com/widgets/tweet_button.html?size=l&url=http%3A%2F%2Fihaochi.com%2Fus-county-level-sex-ratio-by-age-group%2F"
                width="140"
                height="28"
                title="Twitter Tweet Button">
            </iframe>
        </div>
        <div class="share-button">
            <iframe
                src="https://www.facebook.com/plugins/share_button.php?layout=button&size=large&mobile_iframe=true&width=73&height=28&href=http%3A%2F%2Fihaochi.com%2Fus-county-level-sex-ratio-by-age-group%2F"
                width="73"
                height="28"
                scrolling="no"
                frameborder="0"
                allowTransparency="true">
            </iframe>
        </div>
    </div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsduO715MGz0asWUbZfkqGo3EyObWpY-0"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/angularjs-slider/6.0.0/rzslider.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/1.2.1/chroma.min.js"></script>
<script src="https://cdn.rawgit.com/haochi/angular-mouse-tooltip/1aabf4a5/dist/angular-mouse-tooltip.min.js"></script>
<script src="app.js"></script>
</body>
</html>